<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
            <title>Toolkit</title>
    

    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <base href="../">
    <link rel="icon" href="images/favicon.ico"/>
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/base.css">
            <link rel="preconnect" href="https://fonts.gstatic.com">
        <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@100;200;300;400;600;700&display=swap" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@400;600;700&display=swap" rel="stylesheet">
        <link rel="stylesheet" href="css/template.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0/css/all.min.css" integrity="sha256-ybRkN9dBjhcS2qrW1z+hfCxq+1aBdwyQM5wlQoQVt/0=" crossorigin="anonymous" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/themes/prism-okaidia.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.css">
                <script src="https://cdn.jsdelivr.net/npm/fuse.js@3.4.6"></script>
        <script src="https://cdn.jsdelivr.net/npm/css-vars-ponyfill@2"></script>
        <script src="js/template.js"></script>
        <script src="js/search.js"></script>
        <script defer src="js/searchIndex.js"></script>
    </head>
<body id="top">
    <header class="phpdocumentor-header phpdocumentor-section">
    <h1 class="phpdocumentor-title"><a href="" class="phpdocumentor-title__link">Toolkit</a></h1>
    <input class="phpdocumentor-header__menu-button" type="checkbox" id="menu-button" name="menu-button" />
    <label class="phpdocumentor-header__menu-icon" for="menu-button">
        <i class="fas fa-bars"></i>
    </label>
    <section data-search-form class="phpdocumentor-search">
    <label>
        <span class="visually-hidden">Search for</span>
        <svg class="phpdocumentor-search__icon" width="21" height="20" viewBox="0 0 21 20" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="7.5" cy="7.5" r="6.5" stroke="currentColor" stroke-width="2"/>
            <line x1="12.4892" y1="12.2727" x2="19.1559" y2="18.9393" stroke="currentColor" stroke-width="3"/>
        </svg>
        <input type="search" class="phpdocumentor-field phpdocumentor-search__field" placeholder="Loading .." disabled />
    </label>
</section>

    <nav class="phpdocumentor-topnav">
    <ul class="phpdocumentor-topnav__menu">
        </ul>
</nav>
</header>

    <main class="phpdocumentor">
        <div class="phpdocumentor-section">
            <input class="phpdocumentor-sidebar__menu-button" type="checkbox" id="sidebar-button" name="sidebar-button" />
<label class="phpdocumentor-sidebar__menu-icon" for="sidebar-button">
    Menu
</label>
<aside class="phpdocumentor-column -three phpdocumentor-sidebar">
                    <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">index</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/setting-up-project.html#setting-up-a-project" class="">Setting up a project</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/configuring-project.html#configuring-a-project" class="">Configuring a project</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/installing-project.html#installing-a-project" class="">Installing a project</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/testing-project.html#testing-the-project" class="">Testing the project</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/continuous-integration.html#continuous-integration" class="">Continuous integration</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/commands.html#commands" class="">Commands</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/building-assets.html#building-assets" class="">Building assets</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/git-hooks.html#git-hooks" class="">Git hooks</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/toolkit-documentation.html#toolkit-documentation" class="">Toolkit Documentation</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/how-to.html#how-to" class="">How-to</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/requirements.html#requirements" class="">Requirements</a>
</h4>

                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="guide/components.html#components" class="">Components</a>
</h4>

                        </section>
                <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">Namespaces</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="namespaces/eceuropa.html" class="">EcEuropa</a>
</h4>
    <ul class="phpdocumentor-list">
                    <li>
                <a href="namespaces/eceuropa-toolkit.html" class="">Toolkit</a>
                
            </li>
            </ul>

                        </section>
                <section class="phpdocumentor-sidebar__category">
            <h2 class="phpdocumentor-sidebar__category-header">Packages</h2>
                                    <h4 class="phpdocumentor-sidebar__root-namespace">
    <a href="packages/Toolkit.html" class="">Toolkit</a>
</h4>

                        </section>
            
    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Reports</h2>
                <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/deprecated.html">Deprecated</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/errors.html">Errors</a></h3>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="reports/markers.html">Markers</a></h3>
    </section>

    <section class="phpdocumentor-sidebar__category">
        <h2 class="phpdocumentor-sidebar__category-header">Indices</h2>
        <h3 class="phpdocumentor-sidebar__root-package"><a href="indices/files.html">Files</a></h3>
    </section>
</aside>

            <div class="phpdocumentor-column -nine phpdocumentor-content">
                                        <div class="section" id="building-assets">
    <h1>Building assets</h1>

            <div class="section" id="overview">
    <h2>Overview</h2>

            <p>Toolkit provides a way to build theme assets with Europa Component Library (ECL) and/or Gulp.js.</p>
            <p>By default, a config file is included as well as some npm packages in order to:</p>
            

<ul>
    <li>Look for Scss files and convert them into Css</li>

    <li>Minify Css and Js</li>

    <li>Merge files into one minimized file</li>

    <li>Validate and fix scss files</li>

    <li>Other options depending on the chosen runner</li>

</ul>

    </div>

            <div class="section" id="how-to-use">
    <h2>How to use</h2>

            <div class="section" id="building-theme-assets-general">
    <h3>Building theme assets (general)</h3>

            <p>Toolkit will install all packages and create config files (if not exist) on the first run.
Add the chosen runners and packages to your runner.yml.dist file
like shown below:</p>
            <pre><code class="language-">toolkit:
  build:
    npm:
      theme-task-runner: ecl-builder gulp
      packages: &#039;@ecl/builder pikaday moment gulp gulp-concat gulp-sass gulp-clean-css gulp-minify&#039;
      ecl-command: &#039;styles scripts&#039;</code></pre>
            <p>Command to run:</p>
            <pre><code class="language-">docker-compose vendor/bin/run toolkit:build-assets</code></pre>
    </div>

            <div class="section" id="edit-the-config-file-in-order-to-fit-your-needs">
    <h3>Edit the config file in order to fit your needs</h3>

    </div>

            <div class="section" id="ecl-builder-config-js-and-or-gulpfile-js">
    <h3>(&#039;ecl-builder.config.js&#039; and/or &#039;gulpfile.js&#039;)</h3>

            <p>Depending on the chosen runners a config file will be created on the theme root folder.
It&#039;s possible to edit this file after creation and run again the command &#039;toolkit:build-assets&#039;.
If the file does not exist, Toolkit will create it using the default template.
After creation please check the entry and output points for your css, scss and js files.
Make sure that are pointed to the right path.</p>
            <p>This will (re)generate the output file(s) defined on the config file(s).</p>
    </div>

            <div class="section" id="build-theme-assets-ecl-builder">
    <h3>Build theme assets (ecl-builder)</h3>

            <p>By default Toolkit compiles the Css and Js files, defined in the configuration file
&#039;ecl-builder.config.js&#039; as entry and destination paths.
The ecl-builder command used for this action is &#039;styles&#039;. This the default command.</p>
            <p>To use other command listed on &#039;ecl-builder&#039; options an additional parameter can be provided:
&#039;--ecl-command&#039;</p>
            <pre><code class="language-">// Execute an available command from the ecl-builder list - Get help:
docker-compose exec web ./vendor/bin/run toolkit:build-assets --ecl-command=help</code></pre>
    </div>

            <div class="section" id="define-default-theme">
    <h3>Define &#039;default-theme&#039;</h3>

            <p>The default theme can be specified in a parameter in the task call:</p>
            <pre><code class="language-">// Command line
docker-compose vendor/bin/run toolkit:build-assets --default-theme=your-theme

// File &#039;runner.yml.dist&#039;
toolkit:
  build:
    npm:
      theme-task-runner: ecl-builder
      packages: @ecl/builder pikaday moment</code></pre>
    </div>

            <div class="section" id="define-custom-code-folder">
    <h3>Define &#039;custom-code-folder&#039;</h3>

            <p>If for some reason your project is running custom code in other folder then <code>lib</code>, it&#039;s possible to make it configurable with the following:</p>
            <pre><code class="language-">toolkit:
  build:
    custom-code-folder: &#039;your_folder&#039;</code></pre>
    </div>

    </div>

            <div class="section" id="enable-build-assets-during-ci">
    <h2>Enable build assets during CI</h2>

            <p>To enable auto build of assets you should extend the tasks <code>toolkit:build-dev</code> and <code>toolkit:build-dist</code>. See example below.</p>
            <pre><code class="language-">toolkit:
  project_id: &quot;my-project&quot;
  build:
    dev:
      commands:
      - ...
      - ./vendor/bin/run toolkit:build-assets
    dist:
      commands:
      - ...
      - ./vendor/bin/run toolkit:build-assets-dist</code></pre>
            <div class="section" id="install-additional-npm-packages">
    <h3>Install additional npm packages</h3>

            <p>Additional npm packages can be installed to extend the functionality.
The package version can be added after the package name like shown in the example below:</p>
            <pre><code class="language-">&#039;@ecl/preset-ec@3.13.0&#039;

or

&#039;gulp@4.0.1&#039;</code></pre>
            <p>To do it add them to the file &#039;runner.yml.dist&#039;:</p>
            <pre><code class="language-">toolkit:
  build:
    npm:
      packages: &#039;``@ecl/preset-ec@3.13.0`` ``gulp@4.0.1`` gulp-sass gulp-concat gulp-clean-css gulp-minify&#039;</code></pre>
    </div>

    </div>

    </div>

                            </div>
            <section data-search-results class="phpdocumentor-search-results phpdocumentor-search-results--hidden">
    <section class="phpdocumentor-search-results__dialog">
        <header class="phpdocumentor-search-results__header">
            <h2 class="phpdocumentor-search-results__title">Search results</h2>
            <button class="phpdocumentor-search-results__close"><i class="fas fa-times"></i></button>
        </header>
        <section class="phpdocumentor-search-results__body">
            <ul class="phpdocumentor-search-results__entries"></ul>
        </section>
    </section>
</section>
        </div>
        <a href="guide/building-assets.html#top" class="phpdocumentor-back-to-top"><i class="fas fa-chevron-circle-up"></i></a>

    </main>

    <script>
        cssVars({});
    </script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-numbers/prism-line-numbers.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/line-highlight/prism-line-highlight.min.js"></script>
</body>
</html>
